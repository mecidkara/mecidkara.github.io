<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogiTrans Pro | Lojistik AÄŸÄ±</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

    <div id="auth-layer" class="overlay">
        <div id="auth-card" class="auth-card register-mode">
            <div class="brand">Logi<span>Trans</span></div>
            <p id="auth-subtitle">Kurumsal SÃ¼rÃ¼cÃ¼ & Lojistik AÄŸÄ±</p>
            
            <div class="profile-upload register-only" onclick="document.getElementById('image-input').click()">
                <img id="user-preview" src="https://www.w3schools.com/howto/img_avatar.png">
                <span>FotoÄŸraf SeÃ§</span>
                <input type="file" id="image-input" hidden accept="image/*">
            </div>

            <div class="auth-grid">
                <div class="input-field register-only"><label>Ad Soyad</label><input type="text" id="reg-fullname" placeholder="Ad Soyad"></div>
                <div class="input-field register-only"><label>TC Kimlik</label><input type="text" id="reg-tc" maxlength="11"></div>
                <div class="input-field register-only"><label>Telefon</label><input type="tel" id="reg-phone"></div>
                
                <div class="input-field"><label>KullanÄ±cÄ± AdÄ±</label><input type="text" id="reg-username" placeholder="Ã–rn: kaptan"></div>
                <div class="input-field"><label>Åifre</label><input type="password" id="reg-password"></div>
                
                <div class="input-field register-only">
                    <label>AraÃ§ / Firma Tipi</label>
                    <select id="reg-vehicle">
                        <option>TÄ±r - 13.60 Frigo</option>
                        <option>TÄ±r - 13.60 Tenteli</option>
                        <option>Onteker - KapalÄ±</option>
                        <option>Kamyonet / Panelvan</option>
                        <option>Lojistik FirmasÄ±</option>
                    </select>
                </div>
                <div class="input-field full-width register-only">
                    <label>Garaj / Merkez Adresi</label>
                    <input type="text" id="reg-address">
                </div>
            </div>

            <button class="btn-primary full" id="auth-submit-btn" onclick="handleSubmit()">KayÄ±t Ol ve Gir</button>
            <p id="toggle-auth-text" class="toggle-link" onclick="toggleAuthMode()">Zaten hesabÄ±nÄ±z var mÄ±? GiriÅŸ Yap</p>
        </div>
    </div>

    <div id="dashboard" class="layout hidden">
        <aside class="sidebar">
            <div class="brand-side">Logi<span>Trans</span></div>
            <div class="user-box">
                <img id="nav-avatar" src="">
                <div class="u-info">
                    <strong id="nav-name">-</strong>
                    <small id="nav-tag" style="color:#f39c12; font-weight:bold; letter-spacing:1px;">#0000</small>
                </div>
            </div>
            <nav>
                <button class="menu-btn active" onclick="switchTab('loads', this)">ğŸ“¦ YÃ¼k Havuzu</button>
                <button class="menu-btn" onclick="switchTab('my-ads', this)">ğŸš› Ä°lanlarÄ±m</button>
                <button class="menu-btn" id="btn-messages" onclick="switchTab('messages', this)">ğŸ’¬ Mesajlar</button>
                <button class="menu-btn" onclick="openSettings()">âš™ï¸ Ayarlar</button>
            </nav>
            <div class="sidebar-footer">
                <button class="btn-exit" onclick="clearSession()">Ã‡Ä±kÄ±ÅŸ Yap</button>
            </div>
        </aside>

        <main class="main-content">
            <section id="tab-loads" class="view">
                <div class="view-header"><h2>TÃ¼m Ä°lanlar (YÃ¼k Havuzu)</h2></div>
                <div id="load-grid" class="grid-container"></div>
            </section>

            <section id="tab-my-ads" class="view hidden">
                <div class="view-header" style="display:flex; justify-content:space-between;">
                    <h2>Aktif Ä°lanlarÄ±m</h2>
                    <button class="btn-primary" onclick="openModal('ad-modal')">+ Ä°lan Ver</button>
                </div>
                <div id="my-ads-grid" class="grid-container"></div>
            </section>

            <section id="tab-messages" class="view hidden">
                <div class="messenger">
                    <div class="contact-list">
                        <div class="contact-header">
                            <span>ArkadaÅŸlar</span>
                            <button onclick="openModal('add-friend-modal')" style="background:#f39c12; border:none; color:white; border-radius:5px; cursor:pointer;">+ Ekle</button>
                        </div>
                        <div id="contact-container">
                            </div>
                    </div>
                    
                    <div class="chat-area">
                        <div class="chat-header" id="chat-header-name">MesajlaÅŸma Paneli</div>
                        <div class="chat-messages" id="chat-box">
                            <p style="text-align:center; color:#888; margin-top:50px;">
                                Sohbet etmek iÃ§in soldan bir arkadaÅŸ seÃ§in.<br>
                                <small>Kimse yoksa "+ Ekle" butonuna basarak arkadaÅŸ ekleyin.</small>
                            </p>
                        </div>
                        <div class="chat-input hidden" id="chat-input-area">
                            <input type="text" id="chat-input-field" placeholder="Mesaj yaz...">
                            <button class="btn-primary" onclick="sendMessage()">GÃ¶nder</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div id="ad-modal" class="overlay hidden">
        <div class="auth-card" style="width: 400px;">
            <h2>Yeni YÃ¼k Ä°lanÄ± OluÅŸtur</h2>
            <div class="auth-grid" style="margin-top:10px;">
                <div class="input-field"><label>Nereden</label><input type="text" id="ad-from" placeholder="Ä°stanbul"></div>
                <div class="input-field"><label>Nereye</label><input type="text" id="ad-to" placeholder="Ankara"></div>
                <div class="input-field full-width"><label>YÃ¼k / AraÃ§ Tipi</label>
                    <select id="ad-type">
                        <option>Paletli YÃ¼k (Kuru)</option>
                        <option>GÄ±da (Frigo)</option>
                        <option>DÃ¶kme YÃ¼k</option>
                        <option>Ä°ÅŸ Makinesi</option>
                        <option>Evden Eve</option>
                    </select>
                </div>
                <div class="input-field"><label>AÄŸÄ±rlÄ±k (Ton)</label><input type="text" id="ad-weight" placeholder="24 Ton"></div>
                <div class="input-field"><label>Fiyat (TL)</label><input type="text" id="ad-price" placeholder="30.000"></div>
                <div class="input-field full-width"><label>YÃ¼kleme Tarihi</label><input type="date" id="ad-date"></div>
            </div>
            <div class="btn-row">
                <button class="btn-exit" onclick="closeModal('ad-modal')">Ä°ptal</button>
                <button class="btn-primary" onclick="saveAd()">YayÄ±nla</button>
            </div>
        </div>
    </div>

    <div id="add-friend-modal" class="overlay hidden">
        <div class="auth-card" style="width: 350px;">
            <h2>ArkadaÅŸ Ekle</h2>
            <p style="font-size:13px; color:#888;">ArkadaÅŸÄ±nÄ±zÄ±n kullanÄ±cÄ± adÄ±nÄ± ve etiketini girin.</p>
            <div class="input-field">
                <label>KullanÄ±cÄ±AdÄ±#Etiket (Ã–rn: mecid#1234)</label>
                <input type="text" id="friend-tag-input" placeholder="isim#0000">
            </div>
            <div class="btn-row">
                <button class="btn-exit" onclick="closeModal('add-friend-modal')">Kapat</button>
                <button class="btn-primary" onclick="addFriend()">ArkadaÅŸ Ekle</button>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="overlay hidden">
        <div class="auth-card" style="width: 400px;">
            <h2>Ayarlar</h2>
            <div class="theme-switch-box">
                <span>GÃ¶rÃ¼nÃ¼m Modu:</span>
                <button id="theme-btn" class="btn-theme" onclick="toggleTheme()">â˜€ï¸ AÃ§Ä±k Mod</button>
            </div>
            <div class="profile-upload" onclick="document.getElementById('edit-image-input').click()">
                <img id="edit-preview" src="">
                <span style="font-size:12px; background:var(--bg-color); padding:2px 8px; border-radius:10px;">FotoÄŸrafÄ± DeÄŸiÅŸtir</span>
                <input type="file" id="edit-image-input" hidden accept="image/*">
            </div>
            <div class="auth-grid" style="grid-template-columns: 1fr; margin-top:15px;">
                <div class="input-field"><label>Ad Soyad</label><input type="text" id="edit-name"></div>
                <div class="input-field"><label>Telefon</label><input type="tel" id="edit-phone"></div>
                <div class="input-field"><label>Yeni Åifre</label><input type="password" id="edit-password" placeholder="DeÄŸiÅŸtirmek iÃ§in yazÄ±n..."></div>
            </div>
            <div class="btn-row">
                <button class="btn-exit" onclick="closeModal('settings-modal')">VazgeÃ§</button>
                <button class="btn-primary" onclick="saveSettings()">Kaydet</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>