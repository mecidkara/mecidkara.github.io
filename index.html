<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogiTrans Pro | Full Entegre Panel</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

    <div id="auth-layer" class="overlay">
        <div id="auth-card" class="auth-card register-mode">
            <div class="brand">Logi<span>Trans</span></div>
            <p id="auth-subtitle">Kurumsal SÃ¼rÃ¼cÃ¼ KayÄ±t Sistemi</p>
            
            <div class="profile-upload register-only" onclick="document.getElementById('image-input').click()">
                <img id="user-preview" src="https://www.w3schools.com/howto/img_avatar.png">
                <span>FotoÄŸraf SeÃ§</span>
                <input type="file" id="image-input" hidden accept="image/*">
            </div>

            <div class="auth-grid">
                <div class="input-field register-only"><label>Ad Soyad</label><input type="text" id="reg-fullname" placeholder="Ad Soyad"></div>
                <div class="input-field register-only"><label>TC Kimlik No</label><input type="text" id="reg-tc" maxlength="11" placeholder="11 Haneli"></div>
                <div class="input-field register-only"><label>Telefon</label><input type="tel" id="reg-phone" placeholder="05xx xxx xx xx"></div>
                
                <div class="input-field"><label>KullanÄ±cÄ± AdÄ±</label><input type="text" id="reg-username" placeholder="kaptan34"></div>
                <div class="input-field"><label>Åifre</label><input type="password" id="reg-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢"></div>
                
                <div class="input-field register-only">
                    <label>Dorse Tipi</label>
                    <select id="reg-vehicle">
                        <option>TÄ±r - 13.60 Frigo</option>
                        <option>TÄ±r - 13.60 Tenteli</option>
                        <option>Onteker - KapalÄ±</option>
                        <option>Damperli Kamyon</option>
                    </select>
                </div>
                <div class="input-field full-width register-only">
                    <label>AÃ§Ä±k Adres / Garaj</label>
                    <input type="text" id="reg-address" placeholder="Ä°l, Ä°lÃ§e, Mahalle...">
                </div>
            </div>

            <button class="btn-primary full" id="auth-submit-btn" onclick="handleSubmit()">Sisteme KayÄ±t Ol ve Gir</button>
            <p id="toggle-auth-text" class="toggle-link" onclick="toggleAuthMode()">Zaten hesabÄ±nÄ±z var mÄ±? GiriÅŸ Yap</p>
        </div>
    </div>

    <div id="dashboard" class="layout hidden">
        <aside class="sidebar">
            <div class="brand-side">Logi<span>Trans</span></div>
            <div class="user-box">
                <img id="nav-avatar" src="">
                <div class="u-info">
                    <strong id="nav-name">-</strong>
                    <small id="nav-phone">-</small>
                </div>
            </div>
            <nav>
                <button class="menu-btn active" onclick="switchTab('loads', this)">ğŸ“¦ YÃ¼k Havuzu</button>
                <button class="menu-btn" onclick="switchTab('my-ads', this)">ğŸš› BoÅŸ AraÃ§ Bildir</button>
                <button class="menu-btn" id="btn-messages" onclick="switchTab('messages', this)">ğŸ’¬ Mesajlar</button>
            </nav>
            <div class="sidebar-footer">
                <p id="nav-address" style="font-size: 10px; color: #888; margin-bottom: 10px;"></p>
                <button class="btn-exit" onclick="clearSession()">GÃ¼venli Ã‡Ä±kÄ±ÅŸ</button>
            </div>
        </aside>

        <main class="main-content">
            <section id="tab-loads" class="view">
                <div class="view-header"><h2>GÃ¼ncel YÃ¼kler</h2></div>
                <div id="load-grid" class="grid-container"></div>
            </section>

            <section id="tab-my-ads" class="view hidden">
                <div class="view-header" style="display:flex; justify-content:space-between;">
                    <h2>Ä°lanlarÄ±m</h2>
                    <button class="btn-primary" onclick="openModal('ad-modal')">+ Yeni Ä°lan</button>
                </div>
                <div id="my-ads-grid" class="grid-container"></div>
            </section>

            <section id="tab-messages" class="view hidden">
                <div class="messenger">
                    <div class="contact-list"><div class="contact active"><strong>Lojistik Panel</strong><p>Aktif</p></div></div>
                    <div class="chat-area">
                        <div class="chat-header" id="chat-header-name">GÃ¶rÃ¼ÅŸme Paneli</div>
                        <div class="chat-messages" id="chat-box"></div>
                        <div id="approval-panel" class="approval-box hidden">
                            <p>âš ï¸ Ä°lan Sahibi Onay Verdi. Ä°ÅŸi BaÅŸlatÄ±yor musunuz?</p>
                            <button class="btn-primary" onclick="completeDeal()">Ä°ÅŸi Onayla ve BaÅŸlat</button>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="chat-input-field" placeholder="Mesaj...">
                            <button class="btn-primary" onclick="sendMessage()">GÃ¶nder</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div id="offer-modal" class="overlay hidden">
        <div class="auth-card" style="width: 380px;">
            <h2 id="offer-title"></h2><p id="offer-info"></p>
            <div class="input-field"><label>Not</label><input type="text" id="offer-note" placeholder="Hemen yÃ¼kleyebilirim."></div>
            <div class="btn-row"><button class="btn-exit" onclick="closeModal('offer-modal')">Kapat</button><button class="btn-primary" onclick="confirmOffer()">Teklifi GÃ¶nder</button></div>
        </div>
    </div>

    <div id="ad-modal" class="overlay hidden">
        <div class="auth-card" style="width: 380px;">
            <h2>BoÅŸ AraÃ§ Ä°lanÄ±</h2>
            <div class="input-field"><label>GÃ¼zergah</label><input type="text" id="ad-route" placeholder="Ankara - Bursa"></div>
            <div class="input-field"><label>Tarih</label><input type="date" id="ad-date"></div>
            <div class="btn-row"><button class="btn-exit" onclick="closeModal('ad-modal')">VazgeÃ§</button><button class="btn-primary" onclick="saveAd()">YayÄ±nla</button></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>